const faqData = {
  "before-party": [
    {
      question: "What is Blendy Before Party?",
      questionKey: "faq-before-party-question-0",
      answer:
        "Blendy Before Party is a liquid shot supplement designed to help the body prepare for social events and parties. Its formula contains B vitamins, natural extracts, and fruit juices to support well-being before engaging in intense activities.",
      answerKey: "faq-before-party-answer-0"
    },
    {
      question: "When should I take Blendy Before Party?",
      questionKey: "faq-before-party-question-1",
      answer:
        "It is recommended to take Blendy Before Party about 30 minutes before attending parties or events where alcohol consumption or physical effort may be higher.",
      answerKey: "faq-before-party-answer-1"
    },
    {
      question: "What are the main ingredients in Blendy Before Party?",
      questionKey: "faq-before-party-question-2",
      answer:
        "The main ingredients include vitamin B6, thiamine, riboflavin, niacin, folic acid, turmeric extract, and glucose, along with apple, orange, pineapple, and passion fruit juices.",
      answerKey: "faq-before-party-answer-2"
    },
    {
      question: "Can I take Blendy Before Party daily?",
      questionKey: "faq-before-party-question-3",
      answer:
        "Yes, Blendy Before Party can be consumed daily, but it is advisable to consult a healthcare professional before adopting continuous use.",
      answerKey: "faq-before-party-answer-3"
    },
    {
      question: "Does Blendy Before Party prevent hangovers?",
      questionKey: "faq-before-party-question-4",
      answer:
        "While Blendy Before Party contains ingredients that help maintain energy levels and well-being, it does not prevent hangovers. For that purpose, we recommend Blendy After Party.",
      answerKey: "faq-before-party-answer-4"
    },
    {
      question: "Can I take Blendy Before Party if I am pregnant or breastfeeding?",
      questionKey: "faq-before-party-question-5",
      answer:
        "Blendy Before Party contains several vitamins and natural extracts, but if you are pregnant or breastfeeding, it is important to consult your doctor before taking this product.",
      answerKey: "faq-before-party-answer-5"
    },
  ],
  "after-party": [
    {
      question: "What is Blendy After Party?",
      questionKey: "faq-after-party-question-0",
      answer:
        "Blendy After Party is a liquid supplement designed to be consumed after parties and events, helping the body recover. It combines ingredients like potassium, activated charcoal, and B vitamins to assist recovery.",
      answerKey: "faq-after-party-answer-0"
    },
    {
      question: "When should I take Blendy After Party?",
      questionKey: "faq-after-party-question-1",
      answer:
        "It is recommended to take Blendy After Party immediately after events where alcohol consumption or physical exertion occurred, to aid in recovery.",
      answerKey: "faq-after-party-answer-1"
    },
    {
      question: "What are the benefits of Blendy After Party?",
      questionKey: "faq-after-party-question-2",
      answer:
        "Blendy After Party contains ingredients like activated charcoal, ginseng, and magnesium, which help detoxify the body, restore electrolyte levels, and promote a sense of well-being.",
      answerKey: "faq-after-party-answer-2"
    },
    {
      question: "Does Blendy After Party cure hangovers?",
      questionKey: "faq-after-party-question-3",
      answer:
        "Blendy After Party is designed to support recovery after parties, but it is not a hangover cure. Its ingredients may help the body recover more quickly.",
      answerKey: "faq-after-party-answer-3"
    },
    {
      question: "Can I take Blendy After Party if I don't drink alcohol?",
      questionKey: "faq-after-party-question-4",
      answer:
        "Yes! Blendy After Party can also be useful for physical recovery after exertion, even if no alcohol was consumed.",
      answerKey: "faq-after-party-answer-4"
    },
    {
      question: "Can I take Blendy After Party if I am pregnant or breastfeeding?",
      questionKey: "faq-after-party-question-5",
      answer:
        "Blendy After Party contains activated charcoal, herbal extracts, and other ingredients that may not be recommended during pregnancy or breastfeeding. Please consult your healthcare provider before using this product.",
      answerKey: "faq-after-party-answer-5"
    },
  ],
  focus: [
    {
      question: "What is Blendy Focus?",
      questionKey: "faq-focus-question-0",
      answer:
        "Blendy Focus is a liquid shot supplement that combines B vitamins, herbal extracts, and caffeine to help improve focus, concentration, and mental performance.",
      answerKey: "faq-focus-answer-0"
    },
    {
      question: "When should I take Blendy Focus?",
      questionKey: "faq-focus-question-1",
      answer:
        "Blendy Focus should be taken whenever you need to enhance your concentration, such as before an important meeting, studying, or other mentally intense activities.",
      answerKey: "faq-focus-answer-1"
    },
    {
      question: "What are the key ingredients in Blendy Focus?",
      questionKey: "faq-focus-question-2",
      answer:
        "The key ingredients include thiamine, riboflavin, niacin, L-tyrosine, ginseng, L-theanine, green coffee extract, ginkgo extract, and apple juice.",
      answerKey: "faq-focus-answer-2"
    },
    {
      question: "Does Blendy Focus contain caffeine?",
      questionKey: "faq-focus-question-3",
      answer:
        "Yes, Blendy Focus contains caffeine from green coffee extract, which helps improve alertness and focus.",
      answerKey: "faq-focus-answer-3"
    },
    {
      question: "Can I take Blendy Focus at night?",
      questionKey: "faq-focus-question-4",
      answer:
        "It is recommended to consume Blendy Focus during the day, as the caffeine content may interfere with sleep if taken at night.",
      answerKey: "faq-focus-answer-4"
    },
    {
      question: "Can I take Blendy Focus if I am pregnant or breastfeeding?",
      questionKey: "faq-focus-question-5",
      answer:
        "Blendy Focus contains caffeine and herbal extracts that may not be suitable during pregnancy or breastfeeding. It's advisable to consult your doctor before using this supplement.",
      answerKey: "faq-focus-answer-5"
    },
  ],
  collagen: [
    {
      question: "What is Blendy Collagen?",
      questionKey: "faq-collagen-question-0",
      answer:
        "Blendy Collagen is a liquid shot containing hydrolyzed fish collagen and vitamin C, designed to support skin, hair, and nail health.",
      answerKey: "faq-collagen-answer-0"
    },
    {
      question: "When should I take Blendy Collagen?",
      questionKey: "faq-collagen-question-1",
      answer:
        "You can take Blendy Collagen daily, at any time of day, to promote skin and joint health.",
      answerKey: "faq-collagen-answer-1"
    },
    {
      question: "What are the main ingredients in Blendy Collagen?",
      questionKey: "faq-collagen-question-2",
      answer:
        "Blendy Collagen contains hydrolyzed fish collagen, acerola extract (rich in vitamin C), and natural juices from apple and cranberry.",
      answerKey: "faq-collagen-answer-2"
    },
    {
      question: "Is Blendy Collagen suitable for vegetarian diets?",
      questionKey: "faq-collagen-question-3",
      answer:
        "No, Blendy Collagen contains hydrolyzed fish collagen, so it is not suitable for vegetarians or vegans.",
      answerKey: "faq-collagen-answer-3"
    },
    {
      question: "How long does it take to see results with Blendy Collagen?",
      questionKey: "faq-collagen-question-4",
      answer:
        "Results may vary, but many people notice improvements in their skin, hair, and nails after 4 to 8 weeks of continuous use.",
      answerKey: "faq-collagen-answer-4"
    },
    {
      question: "Can I take Blendy Collagen if I am pregnant or breastfeeding?",
      questionKey: "faq-collagen-question-5",
      answer:
        "Blendy Collagen contains hydrolyzed fish collagen and vitamin C, which are generally considered safe. However, if you are pregnant or breastfeeding, it's best to seek medical advice before taking it.",
      answerKey: "faq-collagen-answer-5"
    },
  ],
  power: [
    {
      question: "What is Blendy Power?",
      questionKey: "faq-power-question-0",
      answer: "Blendy Power is a liquid shot supplement designed to boost energy levels and physical performance, thanks to a combination of ingredients like L-tyrosine, L-carnitine, and guarana extract.",
      answerKey: "faq-power-answer-0"
    },
    {
      question: "When should I take Blendy Power?",
      questionKey: "faq-power-question-1",
      answer: "Take Blendy Power before physical activities, workouts, or whenever you need an extra energy boost.",
      answerKey: "faq-power-answer-1"
    },
    {
      question: "What are the main ingredients in Blendy Power?",
      questionKey: "faq-power-question-2",
      answer: "The main ingredients include L-tyrosine, L-carnitine, guarana extract (containing caffeine), green coffee caffeine, ginseng, and natural juices from apple, orange, and passion fruit.",
      answerKey: "faq-power-answer-2"
    },
    {
      question: "Is Blendy Power suitable for athletes?",
      questionKey: "faq-power-question-3",
      answer: "Yes, Blendy Power is an excellent option for athletes and active individuals who need an energy boost before training or competitions.",
      answerKey: "faq-power-answer-3"
    },
    {
      question: "Can I combine Blendy Power with other Blendy products?",
      questionKey: "faq-power-question-4",
      answer: "Yes, you can combine Blendy Power with other Blendy products, but it's important to respect the recommended daily doses and consult a doctor if needed.",
      answerKey: "faq-power-answer-4"
    },
    {
      question: "Can I take Blendy Power if I am pregnant or breastfeeding?",
      questionKey: "faq-power-question-5",
      answer: "Blendy Power contains caffeine and other stimulating ingredients that may not be suitable during pregnancy or breastfeeding. Please consult your healthcare provider before taking this product.",
      answerKey: "faq-power-answer-5"
    },
],
};

const buttons = document.querySelectorAll(".faq-button");
const faqContainer = document.getElementById("faqContainer");
let currentColor = "#3498dbre"; // Initial color

// Color map for each category
const colorMap = {
  "before-party": 'transparent',
  "after-party": "transparent",
  "focus": "transparent",
  "collagen": "transparent",
  "power": "transparent",
};

buttons.forEach((button) => {
  button.addEventListener("click", () => {
    buttons.forEach((btn) => {
      btn.classList.remove("active");
      btn.style.border = "none";
      btn.style.backgroundColor = "transparent";
    });

    button.classList.add("active");
    const category = button.getAttribute("data-category");
    currentColor = colorMap[category];
    button.style.backgroundColor = 'black';
    /*
    if (category === "after_party") {
      button.style.border = `2px solid black`;
      /*button.style.boxShadow = "2px 2px 5px rgba(0, 0, 0, 0.5)";
    } else {
      button.style.border = `2px solid ${currentColor}`;
    }
*/
    updateFAQContent(category);
  });
});


function updateFAQContent(category) {
  const faqItems = faqData[category];
  let html = "";
  faqItems.forEach((item, index) => {
    const questionColor = currentColor;
    const answerColor = getLighterColor(questionColor);
    html += `
      <div class="faq-item">
          <div class="faq-question" data-translate="${item.questionKey}" style="border: none; background-color: ${questionColor}; padding: 30px 25px;" onclick="toggleAnswer(${index})">${item.question}</div>      
          <div class="faq-answer" data-translate="${item.answerKey}" style="background-color: none;">${item.answer}</div>
      </div>
    `;
  });
  faqContainer.innerHTML = html;

    // Apply current language translations after updating content
    const currentLang = document.documentElement.lang;
    switchLanguage(currentLang);
}


function getLighterColor(color) {
  // Convert the color to HSL and make it lighter for the answer
  const hsl = hexToHSL(color);
  return `hsl(${hsl.h}, ${hsl.s}%, ${Math.min(hsl.l + 30, 100)}%)`; // Increase lightness by 30%
}

function hexToHSL(hex) {
  // Convert hex color to HSL
  let r = 0,
    g = 0,
    b = 0;
  if (hex.length == 4) {
    r = "0x" + hex[1] + hex[1];
    g = "0x" + hex[2] + hex[2];
    b = "0x" + hex[3] + hex[3];
  } else if (hex.length == 7) {
    r = "0x" + hex[1] + hex[2];
    g = "0x" + hex[3] + hex[4];
    b = "0x" + hex[5] + hex[6];
  }
  r /= 255;
  g /= 255;
  b /= 255;
  let cmin = Math.min(r, g, b),
    cmax = Math.max(r, g, b),
    delta = cmax - cmin,
    h = 0,
    s = 0,
    l = 0;

  if (delta == 0) h = 0;
  else if (cmax == r) h = ((g - b) / delta) % 6;
  else if (cmax == g) h = (b - r) / delta + 2;
  else h = (r - g) / delta + 4;

  h = Math.round(h * 60);
  if (h < 0) h += 360;

  l = (cmax + cmin) / 2;
  s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));
  s = +(s * 100).toFixed(1);
  l = +(l * 100).toFixed(1);

  return { h, s, l };
}

function toggleAnswer(index) {
  const answers = document.querySelectorAll(".faq-answer");
  const questions = document.querySelectorAll(".faq-question");

  // Close all answers first
  answers.forEach((answer, i) => {
    if (i !== index) {
      answer.classList.remove("show");
      questions[i].classList.remove("active");
    }
  });

  // Toggle the clicked answer
  answers[index].classList.toggle("show");
  questions[index].classList.toggle("active");
}


// Initialize with the first category
buttons[0].click();

// Set initial state for other buttons
buttons.forEach((btn, index) => {
  if (index !== 0) {
    btn.style.border = "none";
    /*btn.style.boxShadow = "none";*/
    btn.style.backgroundColor = "transparent";
  }
});


const dropdowns = document.querySelectorAll('.dropdown'); 

dropdowns.forEach((dropdown) => {
  dropdown.addEventListener('click', (event) => {
    // Close all dropdowns
    dropdowns.forEach((d) => {
      if (d !== dropdown) {
        d.classList.remove('open');  
      }
    });

    // Toggle the clicked dropdown
    dropdown.classList.toggle('open');
  });
});
